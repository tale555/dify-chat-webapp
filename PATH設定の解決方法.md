# Node.jsがインストールされているのにコマンドが認識されない場合の解決方法

## 問題の症状

- `node --version` でエラーが出る
- `npm --version` でエラーが出る
- エラーメッセージ: 「用語 'node' は、コマンドレット、関数、スクリプトファイル、または操作可能なプログラムの名前として認識されません」

## 原因

Node.jsはインストールされていますが、PATH環境変数が更新されていない、またはターミナルが古いPATHを参照している可能性があります。

## 解決方法（順番に試してください）

### 方法1: ターミナルを再起動（最も簡単）

1. **現在開いているすべてのターミナル（PowerShell、コマンドプロンプトなど）を閉じる**
2. **新しいターミナル（PowerShell）を開く**
3. 以下のコマンドを実行：
   ```powershell
   node --version
   npm --version
   ```

**これで解決することが多いです！**

### 方法2: PCを再起動

方法1で解決しない場合：

1. **PCを再起動**
2. 再起動後、新しいターミナルを開く
3. 再度コマンドを実行

### 方法3: PATH環境変数を手動で確認・追加

方法1と2で解決しない場合：

#### ステップ1: 環境変数の設定画面を開く

1. Windowsキー + R を押す
2. `sysdm.cpl` と入力してEnter
3. 「詳細設定」タブをクリック
4. 「環境変数」ボタンをクリック

#### ステップ2: PATHを確認

1. 「システム環境変数」セクションで「Path」を選択
2. 「編集」をクリック
3. 以下のパスが含まれているか確認：
   - `C:\Program Files\nodejs\`
   - `C:\Program Files\nodejs\node_modules\npm\bin`

#### ステップ3: PATHを追加（含まれていない場合）

1. 「新規」をクリック
2. `C:\Program Files\nodejs\` と入力
3. 「OK」をクリック
4. すべてのウィンドウで「OK」をクリック
5. **すべてのターミナルを閉じて、新しいターミナルを開く**

### 方法4: 完全なパスで実行（一時的な解決策）

PATHが設定されるまでの一時的な解決策：

```powershell
& "C:\Program Files\nodejs\node.exe" --version
& "C:\Program Files\nodejs\npm.cmd" --version
```

ただし、これは毎回フルパスを入力する必要があるため、方法1〜3で解決することをお勧めします。

## 確認方法

正しく設定されていれば、以下のコマンドでバージョンが表示されます：

```powershell
node --version
# 例: v20.11.0

npm --version
# 例: 10.2.4
```

## よくある質問

### Q: インストール直後なのに、なぜ認識されないの？

A: インストール中にPATH環境変数が更新されますが、**既に開いているターミナルは古いPATHを参照しています**。新しいターミナルを開く必要があります。

### Q: ターミナルを再起動してもダメな場合は？

A: PCを再起動してください。それでもダメな場合は、方法3でPATHを手動で確認・追加してください。

### Q: 管理者権限が必要ですか？

A: 環境変数の編集には管理者権限が必要な場合があります。方法3を実行する際、管理者として実行してください。

